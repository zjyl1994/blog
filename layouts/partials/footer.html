{{- if not (.Param "hideFooter") }}
<footer class="footer">
  <span>&copy; {{ now.Year }} <a href="/about/">{{ site.Title }}</a></span>
  <span>
    Powered by
    <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a>
    &
    <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
  </span>
  <span>·&nbsp;本站内容使用<a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">CC BY-NC-SA 4.0</a>
  协议授权。</span>
</footer>

{{- end }}

{{- /* Restore theme toggle script since site-level footer overrides theme footer */ -}}
{{- if (not site.Params.disableThemeToggle) }}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const btn = document.getElementById('theme-toggle');
    if (!btn) return;
    btn.addEventListener('click', function () {
      const html = document.documentElement;
      const next = html.dataset.theme === 'dark' ? 'light' : 'dark';
      html.dataset.theme = next;
      try { localStorage.setItem('pref-theme', next); } catch (e) {}
    });
  });
</script>
{{- end }}
